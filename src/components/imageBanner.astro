---
// Don't show banner on home page. 
const isHomepage = Astro.locals.starlightRoute.id === "";

// Needed to get the base url so that production and dev image paths resolve
const base = import.meta.env.BASE_URL.replace(/\/$/, "");

// If there is a banner image in the page front matter then use it, otherwise have the magusterra image be the banner. 
const { bannerImage } = Astro.locals.starlightRoute.entry.data;
const filePath = bannerImage ? base+ bannerImage : `${base}/maps/magusterra.png`;
---

{
	!isHomepage &&
	<div class="sl-banner" >
		<a href={filePath}>
		    <img src = {filePath} class="custom-banner"/>
		</a>
	</div>
}

<style>
	@layer starlight.core {
		.sl-banner {
			/* --__sl-banner-text: var(--sl-color-banner-text, var(--sl-color-text-invert));
			padding: var(--sl-nav-pad-y) var(--sl-nav-pad-x);
			background-color: var(--sl-color-banner-bg, var(--sl-color-bg-accent));
			color: var(--__sl-banner-text);
			line-height: var(--sl-line-height-headings); 
			text-align: center;
			text-wrap: balance;
			box-shadow: var(--sl-shadow-sm); */
			position: relative;
			aspect-ratio: 16/9;
		}
		/* .sl-banner :global(a) {
			color: var(--__sl-banner-text);
		} */
		.custom-banner {
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			object-fit: cover;
		}
	}
</style>
